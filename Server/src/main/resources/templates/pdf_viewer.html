<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PDF ë·°ì–´</title>
  <link rel="stylesheet" href="../static/styles.css">
  <script src="../static/script.js" defer></script>
  <style>
        /* ğŸ“Œ ì‚¬ì´ë“œë°” ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .pdf-nav button {
            color: #232072; /* ğŸ”¹ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            font-weight: bold; /* ğŸ”¹ ë³¼ë“œì²´ */
            background: none;
            border: none;
            cursor: pointer;
            font-size: 18px;
            margin: 5px; /*ì‚¬ì´ë“œë°” ë‘ ì˜µì…˜ ì‚¬ì´ ë§ˆì§„*/
        }

        /* ğŸ“Œ Content ì „ì²´ ì´ë™ (ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì˜®ê¸°ê¸°) */
        #pdf-content {
            margin-left: 180px; /* ğŸ”¹ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ */
            padding: 10px;
        }

        /* ğŸ“Œ Content ì œëª© ìŠ¤íƒ€ì¼ */
        #pdf-title {
            color: #232072; /* ğŸ”¹ ì œëª© ìƒ‰ìƒ */
            font-weight: bold; /* ğŸ”¹ ë³¼ë“œì²´ */
            font-size: 18px;
            text-align: center;
            margin-top: 35px;
        }

        /* ğŸ“Œ PDF ê³µê°„ */
        #pdf-placeholder {
            width: 70%;
            height: 400px;
            margin: 20px auto;
            background-color: #D9D9D9; /* ğŸ”¹ ë°°ê²½ ìƒ‰ìƒ */
            border: 2px solid #757575; /* ğŸ”¹ í…Œë‘ë¦¬ ìƒ‰ìƒ */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ğŸ“Œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .pdf-buttons {
            display: flex;
            justify-content: center;
            gap: 400px;
            margin-top: 20px;
        }

        .action-button {
            padding: 10px 50px; /*ë²„íŠ¼ ì„¸ë¡œ ê°€ë¡œ ê¸¸ì´ ì¡°ì •*/
            background-color: rgba(125, 150, 243, 0.4); /* ğŸ”¹ 7D96F3 40% */
            color: #232072; /* ğŸ”¹ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            font-weight: bold;
            border: 2px solid #567AF9; /* ğŸ”¹ í…Œë‘ë¦¬ ìƒ‰ìƒ */
            border-radius: 50px; /* ğŸ”¹ Corner Radius 50 */
            cursor: pointer;
            font-size: 16px;
        }

        .action-button:hover {
            background-color: rgba(125, 150, 243, 0.6);
        }
    </style>
</head>
<body>
<!-- ğŸ“Œ PDF ì‚¬ì´ë“œë°” ìë™ ë¡œë“œ -->
<div id="sidebar-container">
  <div id="pdf_sidebar">
    <div class="header">
      <img src="../static//images/logo.png" alt="LUMOS Logo">
    </div>
    <div class="horizontal-line"></div>

    <ul class="pdf-nav">
      <li><button onclick="viewPdf('original')">ì›ë³¸ PDF</button></li>
      <li><button onclick="viewPdf('summary')">ìš”ì•½ PDF</button></li>
    </ul>
  </div>
</div>

<!-- ğŸ“Œ PDF Content ì¶”ê°€ -->
<div id="pdf-content">
  <h2 id="pdf-title">PDF ì œëª© ë¡œë”© ì¤‘...</h2>

  <!-- ğŸ“Œ PDF í‘œì‹œ ê³µê°„ (PDFê°€ ì—†ì–´ë„ ê³µê°„ ìœ ì§€) -->
  <div id="pdf-placeholder">
    <p style="color: #757575; font-size: 18px;">PDFê°€ ì—†ìŠµë‹ˆë‹¤.</p>
  </div>

  <!-- ğŸ“Œ ë²„íŠ¼ -->
  <div class="pdf-buttons">
    <button class="action-button" onclick="copyText()">ì „ì²´ë³µì‚¬</button>
    <button class="action-button" onclick="downloadPdf()">PDFë‹¤ìš´</button>
  </div>
</div>

<!--&lt;!&ndash; PDF ë‹¤ìš´ë¡œë“œ ì‹œ ì¹´í…Œê³ ë¦¬ ì„¤ì • íŒì—… &ndash;&gt;
<div id="category-popup" class="popup-overlay" style="display: none;">
  <div class="popup-box">
    &lt;!&ndash; âœ… X ë²„íŠ¼ì´ ì‚¬ë¼ì§€ì§€ ì•Šë„ë¡ ê°•ì œ ì¶”ê°€ &ndash;&gt;
    <span class="close-btn" onclick="closeCategoryPopup()">&times;</span>

    <p class="popup-title">
      <span class="info-icon">&#9432;</span> ì–´ë–¤ ì¹´í…Œê³ ë¦¬ì— ë„£ì„ê¹Œìš”?
    </p>
    <div class="category-list-container">
      <div class="category-list">
        <button class="category-btn">ë°ì´í„°ë² ì´ìŠ¤</button>
        <button class="category-btn">ë°ì´í„°ë§ˆì´ë‹</button>
        <button class="category-btn">ìë£Œêµ¬ì¡°</button>
        <button class="category-btn">ì•Œê³ ë¦¬ì¦˜</button>
      </div>
    </div>
    <span class="new-category">+ ìƒˆë¡œìš´ ì¹´í…Œê³ ë¦¬</span>
  </div>
</div>

&lt;!&ndash; ìƒˆë¡œìš´ ì¹´í…Œê³ ë¦¬ ì…ë ¥ íŒì—… &ndash;&gt;
<div id="new-category-popup" class="new-category-popup-overlay" style="display: none;">
  <div class="new-category-popup-box">
    <span class="new-category-close-btn" onclick="closeNewCategoryPopup()">&times;</span>

    &lt;!&ndash; ê°€ë¡œ ì •ë ¬ì„ ìœ„í•œ flex ì»¨í…Œì´ë„ˆ &ndash;&gt;
    <div class="new-category-input-container">
      <label for="new-category-input">ì¹´í…Œê³ ë¦¬</label>
      <input type="text" id="new-category-input" placeholder="ì¹´í…Œê³ ë¦¬ ì…ë ¥">
    </div>

    <button class="new-category-save-button" onclick="saveNewCategory()">ì €ì¥</button>
  </div>
</div>-->

<!-- íŒŒì¼ ì´ë¦„ ì„¤ì • íŒì—… -->
<div id="file-name-popup" class="popup-overlay" style="display: none;">
  <div class="popup-box">
    <span class="close-btn" onclick="closeFileNamePopup()">&times;</span>

    <!-- ê°€ë¡œ ì •ë ¬ì„ ìœ„í•œ flex ì»¨í…Œì´ë„ˆ -->
    <div class="file-name-input-container">
      <label for="file-name-input">íŒŒì¼ëª…</label>
      <input type="text" id="file-name-input" placeholder="íŒŒì¼ëª… ì…ë ¥">
    </div>

    <button class="file-name-save-button" onclick="saveFileName()">ì €ì¥</button>
  </div>
</div>

<style>
    /* ğŸ“Œ íŒŒì¼ ì´ë¦„ ì„¤ì • íŒì—… ìŠ¤íƒ€ì¼ */
#file-name-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 113%;
    height: 100%;
    background: rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1002; /* ê¸°ì¡´ íŒì—…ë³´ë‹¤ ìœ„ */
}

.file-name-input-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 7px; /* ë¼ë²¨ê³¼ ì…ë ¥ í•„ë“œ ì‚¬ì´ ê°„ê²© */
    margin-top: 25px;
    margin-bottom: 20px;
}

.file-name-input-container label {
    font-size: 16px;
    color: #404040;
    font-weight: bold;
    margin-top:11px;
}

#file-name-input {
    width: 73%;
    padding: 10px;
    border: 2px solid #567AF9;
    border-radius: 30px;
    font-size: 14px;
    text-align: center;
}

.file-name-save-button {
    padding: 7px 15px;
    width: 100px;
    background-color: rgba(125, 150, 243, 0.4); /* 40% */
    color: #404040;
    font-weight: bold;
    border: 2px solid #567AF9;
    border-radius: 50px;
    cursor: pointer;
    font-size: 16px;
    display: block;
    margin-left: 100px;
    margin-top: 25px;
    margin-bottom: 20px;
}

.file-name-save-button:hover {
    background-color: rgba(125, 150, 243, 0.6);
}

</style>

<script>
        document.addEventListener("DOMContentLoaded", function () {
            // ğŸ”¹ ì‚¬ì´ë“œë°” ìë™ ë¡œë“œ
            fetch("common/pdf_sidebar.html")
                .then(response => response.text())
                .then(data => {
                    document.getElementById("pdf-sidebar-container").innerHTML = data;

                    // ğŸ”¹ ë¡œê³  ì´ë¯¸ì§€ì˜ srcë¥¼ ê°•ì œ ë³€ê²½
                    let logoImg = document.querySelector("#pdf-sidebar-container .header img");
                    if (logoImg) {
                        logoImg.src = "../images/logo.png";
                    }
                });

            // ğŸ”¹ URLì—ì„œ `type`(original/summary)ê³¼ `filename` ê°€ì ¸ì˜¤ê¸°
            let params = new URLSearchParams(window.location.search);
            let pdfType = params.get("type") || "original";
            let filename = params.get("filename") || "ì‚¬ìš©ìì„¤ì •ì´ë¦„"; // ê¸°ë³¸ê°’

            console.log("ğŸ“‚ í˜„ì¬ PDF:", pdfType, filename); // ë””ë²„ê¹…ìš© ë¡œê·¸

            // ğŸ”¹ ì œëª© ì—…ë°ì´íŠ¸
            let pdfTitle = document.getElementById("pdf-title");
            pdfTitle.textContent = `${filename} ${pdfType === "original" ? "ì›ë³¸" : "ìš”ì•½ë³¸"}`;
        });

        // ğŸ”¹ PDF ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ (PDF ì—†ì–´ë„ ë™ì‘)
        function downloadPdf() {
            alert("PDF íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤! (ì¶”í›„ ê¸°ëŠ¥ ì¶”ê°€)");
        }

        // ğŸ”¹ ì „ì²´ ë³µì‚¬ (ì¶”í›„ ê¸°ëŠ¥ ì¶”ê°€)
        function copyText() {
            alert("PDF í…ìŠ¤íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! (ì‹¤ì œ êµ¬í˜„ í•„ìš”)");
        }
    </script>
</body>
</html>
